// Generated by CoffeeScript 1.6.3
(function() {
  jQuery(function() {
    $.stickyNav = function(element, options) {
      var state;
      state = '';
      options = {
        firstvisibleselector: '#branding',
        navigationseletor: 'nav',
        showfirstvisible: true,
        shownav: false,
        trigger: 0
      };
      this.$element = $(element);
      this.setState = function(_state) {
        return state = _state;
      };
      this.getState = function() {
        return state;
      };
      this.getSetting = function(key) {
        return this.settings[key];
      };
      this.callSettingFunction = function(name, args) {
        if (args == null) {
          args = [];
        }
        return this.settings[name].apply(this, args);
      };
      this.checkScroll = function() {
        var $set;
        $set = this.settings;
        return $(window).scroll(function() {
          if ($(this).scrollTop() > $set.trigger) {
            return console.log('hit me');
          }
        });
      };
      this.getTrigger = function() {
        var height, y;
        height = $(this.settings.firstvisibleselector).height();
        y = $(this.settings.firstvisibleselector).offset().top;
        return height + y;
      };
      this.init = function() {
        this.settings = $.extend({}, this.defaults, options);
        this.setState('ready');
        this.settings.trigger = this.getTrigger();
        return this.checkScroll();
      };
      this.init();
      return this;
    };
    $.stickyNav.prototype.defaults = {
      message: 'Hello world'
    };
    return $.fn.stickyNav = function(options) {
      return this.each(function() {
        var plugin;
        if ($(this).data('pluginName') === void 0) {
          plugin = new $.stickyNav(this, options);
          return $(this).data('pluginName', plugin);
        }
      });
    };
  });

}).call(this);
